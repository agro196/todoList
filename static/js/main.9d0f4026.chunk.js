(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{28:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(7),o=n.n(a),i=n(3),l=n(4),s=n(15),u=n(5),d=n(9),b=n(2),j=function(e,t,n){var r=e.findIndex((function(e){return e.id===t})),c=!e[r][n],a=Object(b.a)(Object(b.a)({},e[r]),{},Object(d.a)({},n,c));return[].concat(Object(u.a)(e.slice(0,r)),[a],Object(u.a)(e.slice(r+1)))},f={items:[],loading:!0,error:null,filter:"all",search:""},O=Object(l.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,n=e.items;switch(t.type){case"FETCH_ITEMS_SUCCESS":return Object(b.a)(Object(b.a)({},e),{},{items:t.payload,loading:!1});case"FETCH_ITEMS_FAILURE":return Object(b.a)(Object(b.a)({},e),{},{items:[],loading:!1,error:t.payload});case"ITEM_ADDED_TO_LIST":var r={id:n.length+1,label:t.payload,important:!1,done:!1};return Object(b.a)(Object(b.a)({},e),{},{items:[].concat(Object(u.a)(e.items),[r])});case"ITEM_REMOVED_FROM_LIST":var c=t.payload,a=n.findIndex((function(e){return e.id===c}));return Object(b.a)(Object(b.a)({},e),{},{items:[].concat(Object(u.a)(n.slice(0,a)),Object(u.a)(n.slice(a+1)))});case"ITEM_SET_DONE":return Object(b.a)(Object(b.a)({},e),{},{items:j(n,t.payload,"done")});case"ITEM_SET_IMPORTANT":return Object(b.a)(Object(b.a)({},e),{},{items:j(n,t.payload,"important")});case"FILTER_CHANGED":return Object(b.a)(Object(b.a)({},e),{},{filter:t.payload});case"SEARCH_CHANGED":return Object(b.a)(Object(b.a)({},e),{},{search:t.payload});default:return e}}),Object(l.a)(s.a)),h=n(10),m=n(11),p=function(){function e(){Object(h.a)(this,e),this.data=[{id:1,label:"Drink Coffee",important:!1,done:!1},{id:2,label:"Read book",important:!0,done:!1},{id:3,label:"Watch TV",important:!1,done:!1}]}return Object(m.a)(e,[{key:"getItems",value:function(){var e=this;return new Promise((function(t,n){setTimeout((function(){Math.random()>.75?n(new Error("Something bad happened")):t(e.data)}),700)}))}}]),e}(),g=c.a.createContext(),v=g.Provider,x=g.Consumer,E=(n(28),n(1)),T=Object(i.b)((function(e){return{items:e.items}}))((function(e){var t=e.items,n=t.filter((function(e){return e.done})).length,r=t.length-n;return Object(E.jsxs)("div",{className:"app-header d-flex",children:[Object(E.jsx)("h1",{children:"Todo List"}),Object(E.jsxs)("h2",{children:[r," more to do, ",n," done"]})]})})),y=n(19),I=(n(30),function(e){var t=e.important,n=e.done,r=e.label,c=e.onToggleImportant,a=e.onToggleDone,o=e.onDelete,i="todo-list-item";return t&&(i+=" important"),n&&(i+=" done"),Object(E.jsxs)("span",{className:i,children:[Object(E.jsx)("span",{className:"todo-list-item-label",onClick:a,children:r}),Object(E.jsx)("button",{type:"button",className:"btn btn-outline-success btn-sm float-right",onClick:c,children:Object(E.jsx)("i",{className:"fa fa-exclamation"})}),Object(E.jsx)("button",{type:"button",className:"btn btn-outline-danger btn-sm float-right",onClick:o,children:Object(E.jsx)("i",{className:"fa fa-trash-o"})})]})}),_=(n(31),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}),C=function(e,t){switch(t){case"all":return e;case"active":return e.filter((function(e){return!e.done}));case"done":return e.filter((function(e){return e.done}));default:return e}},S=function(e,t){return 0===t.length?e:e.filter((function(e){return e.label.toLowerCase().indexOf(t.toLowerCase())>-1}))},N=function(){return function(e){return function(t){return Object(E.jsx)(x,{children:function(n){return Object(E.jsx)(e,Object(b.a)(Object(b.a)({},t),{},{itemService:n}))}})}}},D=(n(32),function(){return Object(E.jsx)("div",{className:"lds-css",children:Object(E.jsxs)("div",{className:"lds-double-ring",children:[Object(E.jsx)("div",{}),Object(E.jsx)("div",{})]})})}),A=(n(33),function(){return Object(E.jsx)("div",{children:"Error! Please refresh the page until the data is loaded:)"})}),M=function(e){return{type:"ITEM_REMOVED_FROM_LIST",payload:e}},R=function(e){return{type:"ITEM_SET_DONE",payload:e}},w=function(e){return{type:"ITEM_SET_IMPORTANT",payload:e}},F=function(e){return{type:"FILTER_CHANGED",payload:e}},k=function(e){return{type:"SEARCH_CHANGED",payload:e}},L=function(e){return function(){return function(t){e.getItems().then((function(e){return t({type:"FETCH_ITEMS_SUCCESS",payload:e})})).catch((function(e){return t({type:"FETCH_ITEMS_FAILURE",payload:e})}))}}},H=["id"],P=_(N(),Object(i.b)((function(e){return{items:e.items,filter:e.filter,search:e.search,loading:e.loading,error:e.error}}),(function(e,t){var n=t.itemService;return Object(l.b)({fetchItems:L(n),onDelete:M,onToggleDone:R,onToggleImportant:w},e)})))((function(e){var t=e.items,n=e.filter,c=e.search,a=e.loading,o=e.error,i=e.onToggleImportant,l=e.onToggleDone,s=e.onDelete,u=e.fetchItems;Object(r.useEffect)((function(){u()}),[u]);var d=S(C(t,n),c);return a?Object(E.jsx)(D,{}):o?Object(E.jsx)(A,{}):Object(E.jsx)("ul",{className:"todo-list list-group",children:d.map((function(e){var t=e.id,n=Object(y.a)(e,H);return Object(E.jsx)("li",{className:"list-group-item",children:Object(E.jsx)(I,Object(b.a)(Object(b.a)({},n),{},{onToggleImportant:function(){return i(t)},onToggleDone:function(){return l(t)},onDelete:function(){return s(t)}}))},t)}))})})),G=(n(34),Object(i.b)(void 0,(function(e){return Object(l.b)({onSearchChange:k},e)}))((function(e){var t=e.onSearchChange,n=void 0===t?function(){}:t;return Object(E.jsx)("input",{type:"text",className:"form-control search-input",placeholder:"type to search",onChange:function(e){return n(e.target.value)}})}))),U=[{name:"all",label:"All"},{name:"active",label:"Active"},{name:"done",label:"Done"}],V=Object(i.b)((function(e){return{filter:e.filter}}),(function(e){return Object(l.b)({onFilterChange:F},e)}))((function(e){var t=e.filter,n=e.onFilterChange,r=void 0===n?function(){}:n,c=U.map((function(e){var n=e.name,c=e.label,a="btn "+(n===t?"btn-info":"btn-outline-secondary");return Object(E.jsx)("button",{type:"button",onClick:function(){return r(n)},className:a,children:c},n)}));return Object(E.jsx)("div",{className:"btn-group",children:c})})),J=n(17),W=(n(35),{onItemAdded:function(e){return{type:"ITEM_ADDED_TO_LIST",payload:e}}}),q=Object(i.b)(void 0,W)((function(e){var t=e.onItemAdded,n=Object(r.useState)(""),c=Object(J.a)(n,2),a=c[0],o=c[1];return Object(E.jsxs)("form",{className:"bottom-panel d-flex",onSubmit:function(e){e.preventDefault(),o(""),t&&t(a)},children:[Object(E.jsx)("input",{type:"text",className:"form-control new-todo-label",value:a,onChange:function(e){o(e.target.value)},placeholder:"What needs to be done?",required:!0}),Object(E.jsx)("button",{type:"submit",className:"btn btn-outline-secondary",children:"Add"})]})})),B=(n(36),function(){return Object(E.jsxs)("div",{className:"todo-app",children:[Object(E.jsx)(T,{}),Object(E.jsxs)("div",{className:"search-panel d-flex",children:[Object(E.jsx)(G,{}),Object(E.jsx)(V,{})]}),Object(E.jsx)(P,{}),Object(E.jsx)(q,{})]})}),z=n(18),K=n(16),Q=function(e){Object(z.a)(n,e);var t=Object(K.a)(n);function n(){var e;Object(h.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={hasError:!1},e}return Object(m.a)(n,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(E.jsx)(A,{}):this.props.children}}]),n}(r.Component),X=Q,Y=new p;o.a.render(Object(E.jsx)(i.a,{store:O,children:Object(E.jsx)(X,{children:Object(E.jsx)(v,{value:Y,children:Object(E.jsx)(B,{})})})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.9d0f4026.chunk.js.map